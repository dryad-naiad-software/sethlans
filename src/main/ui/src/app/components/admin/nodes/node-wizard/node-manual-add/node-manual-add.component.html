<!--
  ~ Copyright (c) 2018 Dryad and Naiad Software LLC
  ~
  ~ This program is free software; you can redistribute it and/or
  ~ modify it under the terms of the GNU General Public License
  ~ as published by the Free Software Foundation; either version 2
  ~ of the License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program; if not, write to the Free Software
  ~ Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
  ~
  -->
<ul class="nav nav-tabs p-2">
  <li class="nav-item"><a [ngClass]="nodeWizardForm.multipleNodeAdd ? '' : 'active'" class="nav-link"
                          (click)="nodeWizardForm.multipleNodeAdd = false; clearNode(); clearList()"
                          href="javascript:void(0)">Single
    Node</a></li>
  <li class="nav-item"><a [ngClass]="nodeWizardForm.multipleNodeAdd ? 'active' : ''" class="nav-link"
                          (click)="nodeWizardForm.multipleNodeAdd = true; clearNode(); clearList()"
                          href="javascript:void(0)">Multiple
    Nodes</a></li>
</ul>
<form #addNodeForm="ngForm" class="editForm p-2" *ngIf="!nodeWizardForm.multipleNodeAdd">
  <div class="form-group">
    <label for="ipAddress">IP Address or Hostname</label>
    <input type="text" class="form-control" id="ipAddress" name="ipAddress"
           [(ngModel)]="nodeWizardForm.singleNode.ipAddress" (keyup)="enableNext(); enterPress($event)"
           required>
  </div>
  <div class="form-group">
    <label for="port">Port</label>
    <input type="number" class="form-control" id="port" name="port" [(ngModel)]="nodeWizardForm.singleNode.port"
           (keyup)="enableNext(); enterPress($event)"
           required>
  </div>
</form>
<form #addMultiNodeForm="ngForm" class="editForm p-2" *ngIf="nodeWizardForm.multipleNodeAdd">
  <div class="form-group">
    <label for="nodeAddIPAddress">IP Address or Hostname</label>
    <input type="text" class="form-control" id="nodeAddIPAddress" name="ipAddress"
           [(ngModel)]="nodeItem.ipAddress" (keyup)="enableAdd()"
           required>
  </div>
  <div class="form-group">
    <label for="nodeAddPort">Port</label>
    <input type="number" class="form-control" id="nodeAddPort" name="port" [(ngModel)]="nodeItem.port"
           (keyup)="enableAdd()"
           required>
  </div>
  <div class="btn-group">
    <button [disabled]="addDisabled" class="btn btn-outline-dark" (click)="addNodeToList()">Add To List</button>
  </div>

  <div class="form-group">
    <hr/>
    <mat-table #nodeListTable [dataSource]="nodeListDataSource">
      <ng-container matColumnDef="ipAddress">
        <mat-header-cell *matHeaderCellDef>IP Address/HostName</mat-header-cell>
        <mat-cell *matCellDef="let node">{{node.ipAddress}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="port">
        <mat-header-cell *matHeaderCellDef>Port</mat-header-cell>
        <mat-cell *matCellDef="let node">{{node.port}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="action">
        <mat-header-cell *matHeaderCellDef></mat-header-cell>
        <mat-cell *matCellDef="let node">
          <button class="btn btn-outline-danger btn-sm" (click)="deleteNodeFromList(node)">Delete</button>

        </mat-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="nodeListDisplayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: nodeListDisplayedColumns;"></mat-row>
    </mat-table>
    <mat-paginator #nodeListPaginator [pageSize]="5" [pageSizeOptions]="[]"></mat-paginator>

  </div>
</form>
